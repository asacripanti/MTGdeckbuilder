{% extends "base.html" %}

{% block content %}
<section class="searchHeader">
  <a class="homeLink" href="{{ url_for('home_page')}}">Home</a>
  <a class="deckViewLink" href="{{ url_for('deck_display', deck_id=deck_id) }}">Back to deck</a>
</section>
<form class="searchForm" action="{{ url_for('card_search') }}" method="POST">
    {{form.hidden_tag() }}
    {% for field in form
    if field.widget.input_type != 'hidden' %}
        <p>
            {{field.label}}
            {{ field(placeholder='Card name') }}
        
            {% for err in field.errors %} 
            {{err}}
            {% endfor %}
         </p>
        
    {% endfor %}
        <button type="submit">Submit</button>
</form>
<div class="searchDisplay">
    {% if card_data %}
    <h2>Search Results</h2>
    <section class="searchResults">
      {% for card in card_data %}
        <img src="{{ card.imageUrl }}" alt="{{ card.name }}" data-type="{{ card.type }}" data-cmc="{{ card.cmc }}" data-color="{{ card.colorIdentity }}" class="cardImgSearch">
      {% endfor %}
    </section>
  {% endif %}   
</div>

{% endblock %}

